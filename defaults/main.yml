---
# You can override vars by using host or group vars

###########
# GENERAL #
###########

fetch_directory: fetch/

# Even though RGW nodes should not have the admin key
# at their disposal, some people might want to have it
# distributed on RGW nodes. Setting 'copy_admin_key' to 'true'
# will copy the admin key to the /etc/ceph/ directory
copy_admin_key: false

## Ceph options
#
cephx: true

# Multi-site remote pull URL variables
rgw_pull_port: "{{ radosgw_civetweb_port }}"
rgw_pull_proto: "http"

########
#TUNING#
########

# To support buckets with a very large number of objects it's 
# important to split them into shards. We suggest about 100K
# objects per shard as a conservative maximum.
#rgw_override_bucket_index_max_shards: 16
 
# Consider setting a quota on buckets so that exceeding this
# limit will require admin intervention.
#rgw_bucket_default_quota_max_objects: 1638400 # i.e., 100K * 16

# Don't let the radosgw auto create pools, create them with ansible
# If this is set to true the RADOS gateway cephx key will be limited
# to not allow pool creation.
radosgw_create_pools: False

# Pool creation parameters
# If these are undefined, the global defaults configured in ceph.conf
# or the ceph defaults for pool creation apply.
# radosgw_data_pool_pg_num: 8
# radosgw_index_pool_pg_num: 8
# radosgw_utility_pool_pg_num: 8
# radosgw_data_pool_crush_rule: replicated_ruleset
# radosgw_index_pool_crush_rule: replicated_ruleset
# radosgw_utility_pool_crush_rule: replicated_ruleset

# Prefix for pool creation. It's common to use the zone name here.
radosgw_pool_name_prefix: default

# List of pools needed for a functional RADOS Gateway (jewel)
# you probably don't need to modify this. Modify variables above
# instead.
radosgw_default_pools:
  - name: '.rgw.root'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.control'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.gc'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.buckets.data'
    pg_num: '{{ radosgw_data_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_data_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.buckets.index'
    pg_num: '{{ radosgw_index_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_index_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.buckets.non-ec'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.log'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.intent-log'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.usage'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.users.email'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.users.swift'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.users.uid'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.data.root'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.users.keys'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'
  - name: '{{ radosgw_pool_name_prefix }}.rgw.meta'
    pg_num: '{{ radosgw_utility_pool_pg_num | default() }}'
    crush_rule: '{{ radosgw_utility_pool_crush_rule | default() }}'

# List of custom radosgw pools. This can be used to add a pool for a cache tier
# or if you need additional pools for different placement rule.
radosgw_custom_pools: []

# Pools to create for RADOS GW. Most probably you want to change radosgw_custom_pools
# instead.
radosgw_pools: '{{ radosgw_default_pools + radosgw_custom_pools }}'

##########
# DOCKER #
##########

rgw_containerized_deployment: false
rgw_containerized_deployment_with_kv: false
kv_type: etcd
kv_endpoint: 127.0.0.1
ceph_rgw_civetweb_port: "{{ radosgw_civetweb_port }}"
ceph_docker_image: "ceph/daemon"
ceph_docker_image_tag: latest
ceph_rgw_docker_extra_env: -e CLUSTER={{ cluster }} -e RGW_CIVETWEB_PORT={{ ceph_rgw_civetweb_port }}
ceph_docker_on_openstack: false
ceph_config_keys: [] # DON'T TOUCH ME
rgw_config_keys: "/" # DON'T TOUCH ME
